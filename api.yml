parameters:
  sessionId:
    name: x-working-token
    description: The Session ID of an authorized user
    in: header
    required: true
    type: string

  fireBaseToken:
    name: x-firebase-token
    description: The Firebase token of this user
    in: header
    required: false
    type: string

  id:
    name: id
    description: The id of this model
    in: path
    required: true
    type: integer

  offset:
    name: offset
    description: "The starting position to query from or the amount of records(rows) to skip. Default is 0."
    in: path
    required: true
    type: integer

  limit:
    name: limit
    description: "The total amount of records to retrieve. Default is 10."
    in: path
    required: true
    type: integer

  keyword:
    name: keyword
    type: string
    required: true
    in: path
    description: The search word that likely matches an item of this domain

  statusId:
    name: statusId
    type: string
    required: true
    in: path
    description: Status ID

  user_id:
    name: user_id
    type: integer
    required: true
    in: path
    description: The user id

  group_id:
    name: group_id
    type: integer
    required: true
    in: path
    description: The group id

  fault_id:
    name: fault_id
    type: integer
    required: true
    in: path
    description: "The Fault ID/Number"

  meter_reading_id:
    name: id
    type: integer
    required: true
    in: path
    description: "The Meter Reading ID"

  account_no:
    name: account_no
    type: string
    required: true
    in: path
    description: The Customer account no

  meter_no:
    name: meter_no
    type: string
    required: true
    in: path
    description: The Customer Meter No

  work_order_id:
    name: id
    type: string
    required: true
    in: path
    description: "The work order number/id"

  asset_id:
    name: id
    type: integer
    required: true
    in: path
    description: The Asset ID

  payment_id:
    name: id
    type: integer
    required: true
    in: path
    description: The Payment ID

  fromDate:
    name: fromDate
    type: string
    format: date
    required: true
    in: path
    description: The date to start from

  toDate:
    name: toDate
    type: string
    format: date
    required: true
    in: path
    description: The date to end

  report_time:
    name: time
    type: string
    required: true
    in: path
    description: time of record to fetch

#----------------------Definitions-------------------------------
definitions:
  loginInput:
    type: object
    required:
    - username
    - password
    properties:
      username:
        type: string
      password:
        type: string
        format: password

  loginOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          token:
            type: string
          user:
            $ref: '#/definitions/User'
    required:
      - status
      - data


  postUserInput:
    required:
      - email
      - username
      - password
      - first_name
      - last_name
      - user_type
      - gender
    properties:
      email:
        type: string
        format: email
      username:
        type: string
      password:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      middle_name:
        type: string
      user_type:
        type: string
        enum:
        - regular
        - admin
      gender:
        type: string
        enum: ['M', 'F', 'O']


  postUserOutput:
    type: object
    properties:
      status:
        type: string
      data:
        $ref: '#/definitions/postUserInput'
    required:
      - data
      - status

  getUserOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/User'
    required:
      - data
      - status

  User:
    required:
      - id
      - email
      - username
      - first_name
      - last_name
      - created_at
      - updated_at
    properties:
      id:
        type: string
      email:
        type: string
      username:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      middle_name:
        type: string
      gender:
        type: string
        enum: ['M', 'F', 'O']
      user_type:
        type: string
      last_login:
        type: string
        format: date
      location:
        type: object
        $ref: '#/definitions/Location'
      group_id:
        type: number
      avatar:
        type: string
      permissions:
        type: string
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  postGroupInput:
    required:
      - name
      - type
      - short_name
    properties:
      name:
        type: string
      type:
        type: string
      short_name:
        type: string

  getGroupOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Group'
      required:
        - data
        - status

  Group:
    required:
      - id
      - name
      - type
      - short_name
      - description
    properties:
      id:
        type: integer
      name:
        type: string
      type:
        type: string
      short_name:
        type: string
      description:
        type: string
      assigned_to:
        type: array
      group_id:
        type: integer
      created_by:
        type: integer
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date



  postFaultInput:
    type: "object"
    description: "A new Fault Object"
    required:
    - "asset_id"
    - "summary"
    - "issue_date"
    properties:
      asset_id:
        description: "The Asset ID this fault is related to."
        type: integer
      summary:
        description: A brief description of the fault
        type: string
      issue_date:
        description: The issue date of this fault
        type: string
        format: date-time

  postFaultOutput:
    type: object
    properties:
      status:
        type: string
      data:
        $ref: '#/definitions/postFaultInput'
    required:
      - data
      - status

  getFaultOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Fault'
    required:
      - data
      - status

  Fault:
    description: A representation of a Work Order Object
    allOf:
      - $ref: '#/definitions/postFaultInput'
      - type: object
        properties:
          id:
            type: integer
            description: The Fault ID
          asset_id:
            type: integer
            description: The Asset ID
          status:
            type: integer
            description: The Request Status
            enum:
              - 0
              - 1
              - 2
          created_by:
            type: integer
            description: The User that created this Fault
          issue_date:
            type: string
            format: date-time
            description: The date this fault was issued
          created_at:
            type: string
            format: date-time
            description: The date this request was created
          updated_at:
            type: string
            format: date-time
            description: The date this request was updated

  WorkOrder:
    properties:
      id:
        type: integer
        description: The department id
      related_to:
        type: string
        description: "The entity this work order is related to. This can be either an Asset or a Customer"
      relation_id:
        type: string
        description: "The ID(Primary Key) of the entity this work order is related to"
      labels:
        type: array
      status:
        type: integer
        description: "The status value of a work order actually varies and its dependent on the work order type."
      priority:
        type: integer
        description: "The severity level of the work order. 0: Low, 1: Medium, 2: High, 3: Urgent.
        Also Note that SLA's are attached to each priority level."
      summary:
        type: string
      address_line:
        type: string
        description: "The address that this work order is to be executed.
        This will be the customer address if the related_to is a customer"
      contact_name:
        type: string
        description: "The name of the person to contact at the work location"
      contact_phone:
        type: string
        description: "The phone number of the person to contact at the work location"
      contact_email:
        type: string
        format: email
      group_id:
        type: integer
      group:
        type: object
        $ref: '#/definitions/Group'
      assigned_to:
        type: array
        description: "A list of users this work order is assigned to"
      issue_date:
        type: string
        format: date
        description: "The date this work order was issued, defaults to the created_at date"
      start_date:
        type: string
        format: date
        description: "The required start date of the work order"
      completed_date:
        type: string
        format: date
        description: "The date this work order was completed"
      created_at:
        type: string
        format: date-time
        description: The date this work order was created
      updated_at:
        type: string
        format: date-time
        description: The date this department was updated

  postWorkOrderOutput:
    type: object
    properties:
      status:
        type: string
      data:
        $ref: '#/definitions/postWorkOrderInput'
    required:
    - data
    - status

  getWorkOrderOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/WorkOrder'
    required:
    - status
    - data

  postWorkOrderInput:
    type: object
    required:
    - related_to
    - relation_id
    - summary
    properties:
      related_to:
        type: integer
      relation_id:
        type: string
      labels:
        type: array
      status:
        type: integer
      priority:
        type: string
      summary:
        type: string
      address_line:
        type: string
      contact_name:
        type: string
      issue_date:
        type: string
        format: date
      start_date:
        type: string
        format: date
      completed_date:
        type: string
        format: date

  Asset:
    properties:
      id:
        type: integer
        description: The Asset id
      asset_name:
        type: string
        description: The name of the asset
      asset_type:
        type: integer
        description: The id specifying the asset type it is related to
      asset_type_name:
        type: string
        description: The type of asset
      status:
        type: integer
        description: "The status of this asset. e.g 1: Online, 2: Offline"
      serial_no:
        type: string
        description: The Serial No of this asset
      date_installed:
        type: string
        format: date
      group_id:
        type: integer
        description: The group id this asset belongs to
      group:
        type: object
        $ref: '#/definitions/Group'
      location:
        type: object
        $ref: '#/definitions/Location'
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  postAssetInput:
    type: object
    required:
      - asset_name
      - group_id
      - status
      - serial_no
    properties:
      asset_name:
        type: string
      status:
        type: string
      serial_no:
        type: string
      group_id:
        type: integer
      description:
        type: string
      location:
        type: object
        $ref: '#/definitions/Location'

  postAssetOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Asset'
    required:
    - status
    - data

  getAssetOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Asset'
    required:
    - status
    - data

  Customer:
    type: object
    properties:
      account_no:
        type: string
      old_account_no:
        type: string
      meter_no:
        type: string
      customer_name:
        type: string
      status:
        type: integer
      plain_address:
        type: string
      customer_type:
        type: string
      tariff:
        type: string
      group_id:
        type: integer
      group:
        type: object
        $ref: '#/definitions/Group'
      location:
        type: object
        $ref: '#/definitions/Location'

  postCustomerInput:
    type: object
    required:
      - account_no
      - old_account_no
      - meter_no
      - customer_name
      - plain_address
    properties:
      account_no:
        type: string
      old_account_no:
        type: string
      meter_no:
        type: string
      customer_name:
        type: string
      status:
        type: integer
      plain_address:
        type: string
      customer_type:
        type: string
      tariff:
        type: string
      group_id:
        type: integer
      location:
        type: object
        $ref: '#/definitions/Location'

  getCustomerOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Customer'
    required:
    - status
    - data

  postCustomerOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Customer'
    required:
    - status
    - data

  MeterReading:
    type: object
    properties:
      id:
        type: integer
      meter_no:
        type: string
      current_reading:
        type: number
        format: float
      previous_reading:
        type: number
        format: float
      current_bill:
        type: number
        format: float
      current_opening_bal:
        type: number
        format: float
      current_closing_bal:
        type: number
        format: float
      current_billing_adjustment:
        type: number
        format: float
      current_payment:
        type: number
        format: float
      last_payment:
        type: number
        format: float
      last_payment_date:
        type: number
        format: float
      reading_code:
        type: number
        format: float
      reading_section:
        type: string
      demand:
        type: string
      energy:
        type: number
        format: float
      fix_charge:
        type: number
        format: float
      vat_charge:
        type: number
        format: float
      group_id:
        type: integer
      group:
        type: object
        $ref: '#/definitions/Group'
      read_date:
        type: string
        format: date
      location:
        type: object
        $ref: '#/definitions/Location'
        description: 'The location this meter reading occurred'
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  postMeterReadingInput:
    type: object
    required:
    - meter_no
    - current_reading
    - previous_reading
    - current_bill
    - read_date
    properties:
      meter_no:
        type: string
      current_reading:
        type: number
      previous_reading:
        type: number
      current_bill:
        type: number
      current_opening_bal:
        type: number
      current_closing_bal:
        type: number
      current_billing_adjustment:
        type: number
      current_payment:
        type: number
      last_payment:
        type: number
      last_payment_date:
        type: number
      reading_code:
        type: number
      reading_section:
        type: string
      demand:
        type: string
      energy:
        type: number
      fix_charge:
        type: number
      vat_charge:
        type: number
      group_id:
        type: integer
      read_date:
        type: string
        format: date

  getMeterReadingOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/MeterReading'
    required:
    - status

  lastMeterReading:
    type: object
    properties:
      current_reading:
        type: number
        format: float
      previous_reading:
        type: number
        format: float
      current_bill:
        type: number
        format: float
      current_opening_bal:
        type: number
        format: float
      current_closing_bal:
        type: number
        format: float
      current_payment:
        type: number
        format: float
      vat_charge:
        type: number
        format: float

  getLastMeterReadingOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/lastMeterReading'
    required:
    - status

  postSpotBillingInput:
    type: object
    required:
    - meter_no
    - current_reading
    properties:
      meter_no:
        type: string
      current_reading:
        type: number
        format: float

  Note:
    type: object
    properties:
      id:
        type: integer
      relation_id:
        type: string
      module:
        type: string
      note:
        type: string
      source:
        type: string
        description: The source from which this note was entered
      source_id:
        type: string
        description: The ID of the related entity from the source
      source_name:
        type: string
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  getNoteOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Note'
    required:
    - status

  Attachment:
    type: object
    properties:
      id:
        type: integer
      relation_id:
        type: string
        description: The ...
      module:
        type: string
        description: ""
      file_name:
        type: string
      file_size:
        type: string
      file_path:
        type: string
      file_type:
        type: string
      details:
        type: string
      group_id:
        type: integer
      group:
        type: object
        $ref: '#/definitions/Group'
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  getAttachmentOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Attachment'
    required:
    - status


  Location:
    type: object
    properties:
      x:
        type: number
      y:
        type: number


  Payment:
    type: object
    properties:
      id:
        type: integer
      system:
        type: string
      relation_id:
        type: string
      amount:
        type: number
        format: float
      transaction_id:
        type: string
      payer:
        type: string
      channel:
        type: string
      status:
        type: integer
      details:
        type: string
      payment_date:
        type: string
        format: date
      created_at:
        type: string
        format: date
      updated_at:
        type: string
        format: date

  postPaymentInput:
    type: object
    required:
    - system
    - system_id
    - amount
    - transaction_id
    - payer
    - channel
    - payment_date
    properties:
      system:
        type: string
        description: "The system this payment is meant for e.g work_order"
      system_id:
        type: string
        description: "The Key or Unique ID supplied by the Payer for this payment"
      amount:
        type: number
        format: float
      transaction_id:
        type: string
      payer:
        type: string
      channel:
        type: string
      payment_date:
        type: string
        format: date-time


  getPaymentOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: object
        properties:
          items:
            type: array
            items:
              $ref: '#/definitions/Payment'
    required:
    - status


  getModuleRecordCountOutput:
    type: object
    properties:
      status:
        type: string
      data:
        type: string
        properties:
          label:
            type: array
          data:
            type: array
